import{k as A,l as H,o as n,m as f,n as N,p as G,q as o,c,f as T,_,d as e,r as $,j as P,w as R,a as q,t as v,g as u,s as D,e as F,v as E,x as X,y as J,u as K,z as Q,T as W,F as Y}from"./index.5597beed.js";import{u as ee}from"./Auth.39197e71.js";import{u as O}from"./BottomSheet.81ff48cb.js";import{u as U}from"./Music.e3253d18.js";const te={key:0,class:"block w-2 h-2 rounded-full bg-rose-700"},M={props:["to","icon"],setup(l){const t=A();return(r,a)=>{const d=H("RouterLink");return n(),f(d,{to:l.to,class:"flex flex-col items-center justify-center gap-1"},{default:N(()=>[(n(),f(G(l.icon),{class:"w-5 h-5"})),o(t).path===l.to?(n(),c("span",te)):T("",!0)]),_:1},8,["to"])}}},se={},oe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},ne=e("path",{"fill-rule":"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z","clip-rule":"evenodd"},null,-1),re=[ne];function le(l,t){return n(),c("svg",oe,re)}var Z=_(se,[["render",le]]);const ce={},ie={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},ae=e("path",{"fill-rule":"evenodd",d:"M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z","clip-rule":"evenodd"},null,-1),de=[ae];function ue(l,t){return n(),c("svg",ie,de)}var z=_(ce,[["render",ue]]);const _e={},he={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},pe=e("path",{d:"M5.055 7.06C3.805 6.347 2.25 7.25 2.25 8.69v8.122c0 1.44 1.555 2.343 2.805 1.628L12 14.471v2.34c0 1.44 1.555 2.343 2.805 1.628l7.108-4.061c1.26-.72 1.26-2.536 0-3.256l-7.108-4.061C13.555 6.346 12 7.249 12 8.689v2.34L5.055 7.061Z"},null,-1),ve=[pe];function fe(l,t){return n(),c("svg",he,ve)}var me=_(_e,[["render",fe]]);const we={},xe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-5 h-5"},ge=e("path",{d:"M9.195 18.44c1.25.714 2.805-.189 2.805-1.629v-2.34l6.945 3.968c1.25.715 2.805-.188 2.805-1.628V8.69c0-1.44-1.555-2.343-2.805-1.628L12 11.029v-2.34c0-1.44-1.555-2.343-2.805-1.628l-7.108 4.061c-1.26.72-1.26 2.536 0 3.256l7.108 4.061Z"},null,-1),be=[ge];function $e(l,t){return n(),c("svg",xe,be)}var ke=_(we,[["render",$e]]);const ye={},Me={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},Ce=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"},null,-1),Be=[Ce];function Ve(l,t){return n(),c("svg",Me,Be)}var je=_(ye,[["render",Ve]]);const Ie={},Se={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Ze=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"},null,-1),ze=[Ze];function Le(l,t){return n(),c("svg",Se,ze)}var Ae=_(Ie,[["render",Le]]);const He={},Ne={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-5 h-5"},Te=e("path",{"fill-rule":"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z","clip-rule":"evenodd"},null,-1),Pe=[Te];function Re(l,t){return n(),c("svg",Ne,Pe)}var qe=_(He,[["render",Re]]);const De={},Fe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-5 h-5"},Ee=e("path",{"fill-rule":"evenodd",d:"M3 9a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 9Zm0 6.75a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z","clip-rule":"evenodd"},null,-1),Oe=[Ee];function Ue(l,t){return n(),c("svg",Fe,Oe)}var Ge=_(De,[["render",Ue]]);const Xe=["src","loop"],Je={key:0,class:"fixed bottom-[5.5rem] inset-x-4 flex justify-between px-4 py-3 bg-rose-900/75 text-gray-300 backdrop-blur rounded-2xl"},Ke={class:"flex items-center gap-4"},Qe={class:"text-white"},We={class:"text-gray-400 text-sm"},Ye={class:""},et=J(" - "),tt={class:""},st={key:1,class:"fixed bottom-0 inset-x-0 z-10"},ot=e("span",{class:"absolute -top-2.5 left-1/2 -translate-x-1/2 w-12 border-2 border-gray-100 rounded-full"},null,-1),nt={class:"bg-gray-700/90 backdrop-blur rounded-t-3xl h-[97vh] px-4 pb-8 overflow-y-scroll"},rt=["src","alt"],lt={class:"text-center my-4"},ct={class:"text-2xl text-white"},it={class:"text-gray-300"},at={class:"flex items-center justify-between gap-8 mt-12 mb-6"},dt={class:"flex items-center justify-center gap-5"},ut=["disabled"],_t=["disabled"],ht={class:"p-2"},pt={class:""},vt={class:"relative p-0.5 w-full"},ft=["max","step"],mt={class:"flex justify-between mt-1"},wt={class:""},xt={class:""},gt={setup(l){const t=O(),r=U(),a=$(null),d=$(0);$(.5);const p=$(!1),m=P(()=>{var i;return d.value/((i=a.value)==null?void 0:i.duration)*100||0});R(m,i=>{i===100&&(t.playing=!1)}),q(()=>a.value.addEventListener("timeupdate",i=>{var s;return d.value=(s=a.value)==null?void 0:s.currentTime}));function g(){t.playing=!t.playing,a.value[t.playing?"play":"pause"]()}function b(i){t[i]=!t[i]}function w(i){i=Math.floor(i);let s=Math.floor(i/60),x=i-s*60,k=s/10<1?`0${s}`:s,y=x/10<1?`0${x}`:x;return`${k}:${y}`}return(i,s)=>{var x,k,y,C,B,V,j,I,S;return n(),c("div",null,[e("audio",{ref_key:"audio",ref:a,src:(x=o(r).currentMusic)==null?void 0:x.src,autoplay:"true",preload:"true",loop:p.value},null,8,Xe),o(t).minimized?(n(),c("div",Je,[e("div",Ke,[e("button",{onClick:g,class:"bg-white rounded-full p-2 text-black"},[o(t).playing?(n(),f(z,{key:0,class:"!w-[18px] !h-[18px]"})):(n(),f(Z,{key:1,class:"!w-[18px] !h-[18px]"}))]),e("div",{onClick:s[0]||(s[0]=h=>b("minimized"))},[e("div",Qe,v((k=o(r).currentMusic)==null?void 0:k.title),1),e("div",We,[e("span",Ye,v(w(d.value)),1),et,e("span",tt,v(w((y=a.value)==null?void 0:y.duration)),1)])])]),e("button",{onClick:s[1]||(s[1]=h=>b("active"))},[u(Ae)])])):(n(),c("div",st,[ot,e("div",nt,[e("button",{onClick:s[2]||(s[2]=h=>b("minimized")),class:"mx-6 mt-2 mb-1 float-right"},[u(je)]),e("img",{src:(C=o(r).currentMusic)==null?void 0:C.poster,alt:(B=o(r).currentMusic)==null?void 0:B.title,loading:"lazy",class:"w-full aspect-square object-cover rounded-3xl"},null,8,rt),e("div",lt,[e("div",ct,v((V=o(r).currentMusic)==null?void 0:V.title),1),e("span",it,v((j=o(r).currentMusic)==null?void 0:j.artist),1)]),e("div",null,[e("div",at,[e("button",{onClick:s[3]||(s[3]=h=>p.value=!p.value),class:D([{"bg-white/75 text-gray-700":p.value},"p-2 rounded-full"])},[u(qe)],2),e("div",dt,[e("button",{onClick:s[4]||(s[4]=(...h)=>o(r).goPrevious&&o(r).goPrevious(...h)),disabled:o(r).musics.indexOf(o(r).currentMusic)===0,class:"disabled:opacity-50"},[u(ke)],8,ut),e("button",{onClick:g,class:"bg-white rounded-full p-4 text-black"},[o(t).playing?(n(),f(z,{key:0})):(n(),f(Z,{key:1}))]),e("button",{onClick:s[5]||(s[5]=(...h)=>o(r).goNext&&o(r).goNext(...h)),disabled:o(r).musics.indexOf(o(r).currentMusic)===o(r).musics.length-1,class:"disabled:opacity-50"},[u(me)],8,_t)]),e("div",ht,[u(Ge)])]),e("div",pt,[e("div",vt,[F(e("input",{type:"range","onUpdate:modelValue":s[6]||(s[6]=h=>d.value=h),onInput:s[7]||(s[7]=h=>a.value.currentTime=d.value),min:0,max:(I=a.value)==null?void 0:I.duration,step:.01,style:X(`background: linear-gradient(to right, #f3f4f6 ${o(m)}%, #6b7280 ${o(m)}%)`),class:"w-full appearance-none h-1 rounded-full [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-1.5 [&::-webkit-slider-thumb]:h-1.5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]: [&::-webkit-slider-thumb]:shadow-[0_0_0_6px_rgba(255,255,255,.5)]"},null,44,ft),[[E,d.value]])]),e("div",mt,[e("span",wt,v(w(d.value)),1),e("span",xt,v(w((S=a.value)==null?void 0:S.duration)),1)])])])])]))])}}},bt={},$t={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},kt=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"},null,-1),yt=[kt];function Mt(l,t){return n(),c("svg",$t,yt)}var L=_(bt,[["render",Mt]]);const Ct={},Bt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Vt=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"},null,-1),jt=[Vt];function It(l,t){return n(),c("svg",Bt,jt)}var St=_(Ct,[["render",It]]);const Zt={},zt={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},Lt=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"},null,-1),At=[Lt];function Ht(l,t){return n(),c("svg",zt,At)}var Nt=_(Zt,[["render",Ht]]);const Tt={class:"px-4 py-8"},Pt={class:"relative"},Rt=e("div",{class:"hidden pb-40 pb-24"},null,-1),qt={class:"fixed bottom-4 inset-x-4 flex justify-between px-8 py-3.5 bg-gray-700/50 text-gray-300 backdrop-blur rounded-2xl"},Ut={setup(l){A();const t=K(),r=O(),a=U(),d=ee();P(()=>d.user);const p=$("");return R(p,m=>{t.push({name:"search",query:{q:m}}).then(a.search)}),Q(d.checkAuth),q(a.getMusics),(m,g)=>{const b=H("RouterView");return n(),c(Y,null,[u(W,null,{default:N(()=>[o(r).active?(n(),f(gt,{key:0})):T("",!0)]),_:1}),e("header",Tt,[e("div",Pt,[F(e("input",{"onUpdate:modelValue":g[0]||(g[0]=w=>p.value=w),type:"text",placeholder:"Search",class:"w-full bg-gray-900/50 backdrop-blur pr-4 pl-10 py-2 rounded-xl outline-none"},null,512),[[E,p.value]]),u(L,{class:"absolute top-2 left-2 w-5 h-5 text-gray-500"})])]),e("div",{class:D(`pb-${o(r).minimized?40:24}`)},[u(b),Rt],2),e("footer",qt,[u(M,{to:"/music-player-demo/",icon:St}),u(M,{to:"/music-player-demo/search",icon:L}),u(M,{to:"/music-player-demo/albums",icon:Nt})])],64)}}};export{Ut as default};
